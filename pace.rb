# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Pace < Formula
  desc "Command Line Interface for https://pace.io"
  homepage "https://pace.io"
  version "1.17.0"

  on_macos do
    if Hardware::CPU.arm?
      url "https://github.com/getstrm/cli/releases/download/v1.17.0/pace_darwin_arm64.tar.gz"
      sha256 "da66a54347aecd0c46ba7ddeea05587575c561a4bc7af5f05955f38011964ea0"

      def install
        bin.install "pace"
      end
    end
    if Hardware::CPU.intel?
      url "https://github.com/getstrm/cli/releases/download/v1.17.0/pace_darwin_amd64.tar.gz"
      sha256 "8a442bd7cfdf75f67cbf02f98e7b820f6474e324505bb8a901b20a2b743d23aa"

      def install
        bin.install "pace"
      end
    end
  end

  on_linux do
    if Hardware::CPU.intel?
      url "https://github.com/getstrm/cli/releases/download/v1.17.0/pace_linux_amd64.tar.gz"
      sha256 "66ff77ef2a1b3eb24d96e5de3331c315f953150f3a0573a216d1ec62c8ee0f63"

      def install
        bin.install "pace"
      end
    end
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/getstrm/cli/releases/download/v1.17.0/pace_linux_arm64.tar.gz"
      sha256 "7e6980af4bbce9be469053ec7dcd47d0e2ea390183c25d27b826658613ceff8c"

      def install
        bin.install "pace"
      end
    end
  end

  def caveats
    <<~EOS
      In order to set up auto completion, please follow the instructions below. When you've set up auto completion in the past, you can skip these instructions.

       for bash users
         add the following line to your .bash_profile or .bashrc:
           source <(pace completion bash)

         to load completions for each session, execute once:
           - Linux users: pace completion bash > /etc/bash_completion.d/pace
           - macOS users: pace completion bash > /usr/local/etc/bash_completion.d/pace

       for zsh users
         ensure that shell completion is enabled, then run (only needs to be done once):
           pace completion zsh > "${fpath[1]}/_pace"

       for fish users
         pace completion fish > ~/.config/fish/completions/pace.fish # or $XDG_CONFIG_HOME instead of ~/.config
    EOS
  end

  test do
    system "#{bin}/pace --version"
  end
end
